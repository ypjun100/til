# React Strict Mode

* React의 Strict Mode는 **애플리케이션 내의 잠재적인 문제를 알아내기 위한 도구**
* 애플리케이션의 컴포넌트들을 검사하고, 잠재적인 문제에 대한 경고를 출력하여 이를 해결할 수 있도록 함

### 검사 항목

1. **레거시 API 감지**
	* `componentWillMount`나 문자열 ref와 같은 지원 종료된 메서드를 사용하면 경고를 표시함
2. **findDOMNode 사용 여부**
	* `findDOMNode`는 컴포넌트 자식 중에 특정 요소를 찾는 함수로, 최근엔 ref를 지정하는 것을 지향함
	* 자식 요소는 구현 방식에 따라 달라질 수 있기 때문에 유지보수가 어려워 사용을 지양함
3. **예상치 못한 부작용 확인**
	* 리액트는 사용자에게 화면을 표시하기 위해 렌더링 단계와 커밋 단계를 거침
		* 랜더링 단계는 변화를 계산하는 단계로, 이전 화면과 비교하여 랜더링 필요 여부를 확인함
		* 커밋 단계에서는 랜더링 단계에서의 결과를 토대로 특정 요소를 재랜더링하여 변화를 반영함
	* **Strict 모드에서는 일부러 랜더링 메서드를 두 번씩 호출하여 부작용이 있는지 확인함**

> Strict Mode에서는 랜더링을 두 번 실행하기 위해 아래의 함수를 의도적으로 이중으로 호출하며, 이 과정에서 컴포넌트는 Unmount 되었다가, Remount 된다.
> * 클래스 컴포넌트의 `constructor`, `render`, `shouldComponentUpdate`, `getDerivedStateFromProps`
> * 함수 컴포넌트의 바디
> * State Updator
> * `useState`, `useMemo`, `useReducer`

> Strict Mode는 개발 환경에서만 활성화되며, 프로덕션 빌드에는 영향을 미치지 않는다. 다만, 프로덕션 환경일지라도 몇 가지 추가적인 검사와 경고가 수반되어 약간의 오버헤드가 발생할 수 있으므로, **프로덕션 환경에서는 Strict Mode를 끄는 것이 일반적이다.**