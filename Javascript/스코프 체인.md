# 스코프 체인

* 함수가 중첩되는 경우 지역 스코프도 중첩되는데, **스코프가 계층적으로 연결된 것을 스코프 체인이라고 함**
* 자바스크립트 엔진은 변수를 참조할 때 스코프 체인을 통해 아래 계층에서 위로 이동하며 변수를 검색함
	* 하위 스코프에서 상위 스코프로 이동하다 동일 식별자를 찾으면 해당 값을 참조하게 됨
	* 아래에서 위로 검색하기 때문에 하위 스코프 아래 계층의 스코프의 변수를 참조할 수 없음
* 스코프 체인은 자바스크립트 엔진 내에서 렉시컬 환경이라는 자료구조를 이용해 실제로 관리되고 있음

### 렉시컬 환경

![](https://blog.kakaocdn.net/dn/ZsB6H/btqZqqeXNc7/ufs7kKZUEci9ynrAyWFkJk/img.png)

* 변수 식별자가 키(Key)이고, 변수 할당이 일어나면 값(Value)가 변경되는 자바스크립트 내부 자료구조
* 전역 렉시컬 환경은 코드가 로드되면 곧바로 생성되고, 함수의 렉시컬 환경은 함수가 호출되는 생성됨
* 변수의 값을 참조하기 위한 변수 검색도 이 자료구조를 토대로 이루어짐