# 트랜잭션과 ACID

### 트랜잭션

* 읽기나 쓰기 작업이 가능한 데이터베이스 작업을 하나 이상 포함하는 데이터베이스의 논리적 처리 단위
* 트랜잭션의 중요한 특징은 작업이 성공하든 실패하든 절대 부분적으로는 완료되지 않는다는 것임
* 트랜잭션은 여러 도큐먼트에 대한 읽기, 쓰기와 같은 작업을 하나 이상 포함할 수 있음

> 몽고DB는 여러 작업, 컬렉션, 데이터베이스, 도큐먼트 및 샤드에서 ACID 호환 트랜잭션을 지원한다.

### ACID

* ACID는 원자성(Atomicity), 일관성(Consistency), 고립성(Isolation), 영속성(Durability)의 약어임
* ACID 트랜잭션은 정전 등의 오류가 발생해도 데이터와 데이터베이스 상태의 유효성을 보장함
* 데이터베이스는 아래 속성을 모두 충족하고 성공적인 트랜잭션만 처리될 때, ACID를 준수한다고 함
* **원자성(Atomicity)**
	* 트랜잭션 내 모든 작업이 적용되거나 아무 작업도 적용되지 않도록 하는 성질임
	* 따라서, 트랜잭션은 부분적으로 적용될 수 없음 (커밋되거나 중단 중 하나의 상태를 가짐)
* **일관성(Consistency)**
	* 트랜잭션 전과 후에 데이터베이스가 사전에 정의된 제약 조건을 만족하는 상태를 유지해야 함
	* 특정 필드의 자료형이 숫자형이라고 하면, 트랜잭션 이후에도 항상 자료형은 숫자형이 되어야 함
* **고립성(Isolation)**
	* 다른 트랜잭션의 부분 결과를 참조하지 못하게 하여, 여러 트랜잭션이 동시에 실행 가능한 속성임
	* 여러 트랜잭션을 병렬로 실행할 때와 각 트랜잭션을 순차적으로 실행할 때는 항상 동일한 결과를 얻음
* **영속성(Durability)**
	* 트랜잭션이 커밋될 때 시스템 오류가 발생하더라고 모든 데이터가 유지되도록 하는 성질임