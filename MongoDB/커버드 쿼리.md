# 커버드 쿼리

* 몽고DB는 인덱스를 사용해서 데이터를 찾으며, 일반적으로 인덱스를 따라가 실제 도큐먼트도 읽음
* 하지만, 쿼리 조건이나 반환 필드가 모두 인덱스에 포함되어 있는 경우, 이 도큐먼트를 읽을 필요가 없음
* 도큐먼트를 읽지 않고, 단순히 인덱스만으로 탐색 결과를 반환할 수 있는 쿼리를 커버드 쿼리라고 함

```json
{
	name: "Junyeong",
	age: 26,
	email: "ypjun100@gmail.com"
}
```

```js
// 인덱스 생성
db.users.createIndex({ name: 1, age: 1 })

// 데이터 조회
db.users.find({ name: "Alice" }, { age: 1 })
```

* 위와 같은 도큐먼트와 인덱스가 정의된 상태인 경우, 쿼리와 조회할 필드가 인덱스 안에 모두 포함되어 있음
* 이 경우에 몽고DB는 별도로 도큐먼트를 읽지 않고, 단순히 인덱스를 통해서만 결과를 반환함

> 인덱스는 보통 크기가 작고, 메모리에 올라와 있어 빠르기에 인덱스를 통해 결과를 반환하면, 디스크에서 실제 도큐먼트를 읽는 IO 작업을 줄이고, 앞서 설명한 이점들을 가질 수 있다.