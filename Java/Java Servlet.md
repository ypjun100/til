# Java Servlet

* 클라이언트의 요청에 따라 웹 서버에서 동적으로 로드되어 동작하는 자바 클래스
* 일반 자바 프로그램과 달리 독자적으로 실행되지 못하고, 톰캣과 같은 서블릿 컨테이너에서 실행됨
* CGI(Common Gateway Interface)의 단점을 보완하기 위해 사용됨
	* CGI는 클라이언트 요청할 때 해당 요청에 대한 CGI 프로그램이 동작하여 응답을 반환하는 형식
	* 요청이 들어올 때마다 CGI 프로그램이 프로세스 단위로 실행되어 서버의 부하가 컸음
* 서블릿은 CGI와 달리 클라이언트의 요청을 처리하기 위해 이전에 생성한 서블릿 인스턴스를 이용함

### 서블릿 동작 과정
1. 클라이언트가 웹 서버에 요청을 전송함
2. 웹 서버에서는 요청 URL을 확인하여 해당하는 서블릿으로 요청을 전달함
3. 서블릿 컨테이너는 요청정보를 `HttpServletRequest`와 `HttpServletResponse`에 저장함
4. 서블릿 클래스의 `doGet()` 혹은 `doPost()`를 호출하여 요청 정보 전달
6. 요청 처리 후 `HttpServletResponse` 객체에 HTTP 데이터를 담아 응답함
7. 서블릿의 `destroy()`를 호출하여 GC에 의해 서블릿이 종료됨

### 서블릿 컨테이너
* 서블릿을 관리하기 위한 컨테이너로, 서블릿의 생명주기(생성, 초기화, 실행, 해제)를 관리함
* 클라이언트의 요청을 받고 이에 해당하는 서블릿으로 라우팅하는 역할을 수행함
* 내부적으로 쓰레드 풀을 사용하여 요청이 들어올 때 쓰레드 풀 내의 쓰레드를 사용하여 요청을 처리함
* 대표적인 서블릿 컨테이너로, Tomcat, Jetty, JBoss가 있음
* 스프링 내에서는 서블릿 컨테이너의 역할을 디스패처 서블릿에서 진행함